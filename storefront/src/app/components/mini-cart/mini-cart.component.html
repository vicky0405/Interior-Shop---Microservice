<div
  class="w-80 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden"
  *ngIf="cartData"
>
  <div class="p-4 border-b bg-gray-50 flex justify-between items-center">
    <span class="font-bold text-gray-700">Giỏ hàng ({{ cartData.totalItems }})</span>
    <span class="text-xs text-gray-500">Tạm tính</span>
  </div>

  <div class="max-h-[300px] overflow-y-auto">
    <div *ngIf="cartData.items?.length === 0" class="p-6 text-center text-gray-400 text-sm">
      Chưa có sản phẩm nào
    </div>

    <div
      *ngFor="let item of cartData.items"
      class="flex gap-3 p-3 border-b hover:bg-gray-50 transition"
    >
      <img [src]="item.imageUrl" class="w-12 h-12 object-cover rounded border" />

      <div class="flex-1 min-w-0">
        <h4 class="text-sm font-medium text-gray-800 truncate">{{ item.productName }}</h4>
        <p class="text-xs text-gray-500 truncate">{{ item.sku }}</p>
        <div class="flex justify-between items-center mt-1">
          <span class="text-xs font-bold text-primary">x{{ item.quantity }}</span>
          <span class="text-xs font-bold">{{
            item.price | currency: 'VND' : 'symbol' : '1.0-0'
          }}</span>
        </div>
      </div>

      <button (click)="removeItem(item.variantId, $event)" class="text-gray-400 hover:text-red-500">
        <span class="material-symbols-outlined text-[18px]">delete</span>
      </button>
    </div>
  </div>

  <div class="p-4 bg-gray-50 border-t">
    <div class="flex justify-between items-center mb-4">
      <span class="text-sm text-gray-600">Tổng cộng:</span>
      <span class="text-lg font-black text-red-600">{{
        cartData.totalPrice | currency: 'VND' : 'symbol' : '1.0-0'
      }}</span>
    </div>

    <button
      class="w-full bg-primary text-white py-2 rounded font-bold hover:bg-blue-700 transition"
    >
      Xem giỏ hàng & Thanh toán
    </button>
  </div>
</div>
